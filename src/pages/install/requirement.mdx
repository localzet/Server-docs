# Требования к окружению

## Пользователи Windows

1. Требуется PHP >=8.2, а также настроенные переменные среды.
2. Из-за ограничений использования Localzet Server в Windows, рекомендуется использовать систему Linux в продакшене, а Windows - только в качестве среды разработки.

``` Ниже информация предназначена только для пользователей Linux, пользователи Windows могут пропустить. ```

## Пользователи Linux (включая Mac OS)

1. Установите PHP >=8.2 и расширения `pcntl` и `posix`.
2. Рекомендуется также установить расширение `event`, но оно не обязательно.

### Скрипт проверки окружения в Linux
Пользователи Linux могут запустить следующий скрипт, чтобы проверить, удовлетворяют ли их локальные условия требованиям Localzet Server.

```shell
curl -Ss https://cloud.zorin.space/localzet-check | php
```

Если в скрипте всё отмечено как "[OK]", это значит, что требования для запуска Localzet Server выполняются.

> Примечание: скрипт не проверяет установку расширения `event`. Если количество одновременных подключений больше 1024, рекомендуется установить расширение `event`. См. следующий раздел для инструкции по установке.

## Подробное описание

### О PHP-CLI

Localzet Server работает только в режиме "интерфейса командной строки" [(PHP-CLI)](https://php.net/manual/ru/features.commandline.php)!
PHP-CLI встроенная исполняемая программа, независимая и не конфликтующая с PHP-FPM или модулем Apache MOD-PHP.

### О необходимых расширениях для Localzet Server

1. [Расширение pcntl](https://www.php.net/manual/ru/book.pcntl.php)

   Расширение `pcntl` является важным для управления процессами в среде Linux, и Localzet Server использует его функции,
   такие как [fork](https://www.php.net/manual/ru/function.pcntl-fork.php), управление [сигналами](https://www.php.net/manual/ru/function.pcntl-signal.php), [таймеры](https://www.php.net/manual/ru/function.pcntl-alarm.php),
   [отслеживание состояния процессов](https://www.php.net/manual/ru/function.pcntl-waitpid.php). Это расширение не поддерживается в системе Windows.

2. [Расширение posix](https://www.php.net/manual/ru/book.posix.php)

   Расширение `posix` позволяет PHP в среде Linux вызывать интерфейсы, предоставляемые [стандартом POSIX](https://ru.wikipedia.org/wiki/POSIX).
   Localzet Server в основном использует этот интерфейс для реализации функций демонизации процессов и управления группами пользователей.
   Это расширение не поддерживается в системе Windows.

3. [Расширение Event](https://www.php.net/manual/ru/book.event.php)

   Расширение `event` позволяет PHP использовать продвинутые механизмы обработки событий, такие как [Epoll](https://ru.wikipedia.org/wiki/Epoll) и [Kqueue](https://en.wikipedia.org/wiki/Kqueue).
   Это значительно повышает уровень использования ЦП Localzet Server в условиях высоконагруженных соединений.
   Важно для приложений с высоконагруженными долгосрочными соединениями.
   Расширение `libevent` (или `event`) не является обязательным, и если оно не установлено, то по умолчанию используется нативный механизм обработки событий PHP - Select.

## Как установить расширения

См. [Установка расширений](/appendices/install-extension)
